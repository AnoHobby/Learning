# 隠れん坊オンライン
記憶が薄れてから書いているので抜けがあったり、バージョンによっては内容が違ったりする。あと殴り書き。

また、どちらかと言うと数年に亘る歴史を振り返る形となるのでリバースエンジニアリングよりかは隠れん坊の話になる。しかも、かなり主観を混ぜている。

しかしチーターには焦点を向けてはいないので、おかおかぴーによる住所特定などの事件には触れない。

## パラメーター・データ変更
チーター全盛期が来る前までのチートは、GGでマップの高さなどを変更したり、ジャンプの高さを変更したりするといった単純なものが多かった。

雑に数値を調べて変更していても見つかるみたいな感じ。

また、レベルやコインを変更する際はデータが保存されているファイルを直接編集するといったものが主流であった。

プログラムの処理を変えるというよりかは、パラメーターを変えるみたいな感じ。初めの方は`assembly-csharp.dll`から直で編集できたで、リバースエンジニアリング経験者からしたらかなり馬鹿馬鹿しい状況。

チーターが問題視され初めてから(かなり後)対策され、その数値は使えなくなった。

この時代の主なチートは以下
- スピード/ジャンプ/重力などのパラメーター変更
- スピードを0にして真っ黒の世界に行き他プレイヤーの一部ボタンを無効にする
- レベル/コイン/スキンなどの変更
- マップの上限の変更
- 貫通/テレポート(衝突時のパラメータ変更)
- 擬似的なMAP外判定回避
- チーター画面でプレイヤーの停止/拡大/密集
- 内部的に使用される0から9を変更することによる擬似的なマップの指定/マップのオブジェクト削除
- 同様に非公開のデコ
- MAP外にあるバグ空間を利用した他プレイヤーの画面にバグ空間のものを表示
- コロバグ
- AIの数を増やす
- 強制(即時)勝利

正直、試行錯誤していてなかなか面白い
バグはこの時でも修正されてた気がする
あとはスピードハックの検知的な何かもあった。
## 増殖
チーター全盛期の直前、パラメーターを変更したりするチートから少しプログラムを解析する方法に近づいた。

その例が増殖チートである。当時のチーターは増殖を、もの変更ボタンを常に表示+もの変更時(新しいオブジェクトが生成される)に元のオブジェクトが消えないようにするといった方法で実現した。

GGでは数値ではなく、アセンブリを変更するようになっていた。

が、しかしその方法だけが独り歩きしていたことでチーターの能力の格差は広かった。

増殖チートを筆頭に、一部の比較的優秀なチーターが増え始めた。増殖チートを使っていても、その大半はアセンブリを変更しているということを理解していないスクリプトキディであった。

全員コロバグや爆弾の飛距離を上げるチートなど、面白めのチートも何個かあった。

この時代の主なチートは以下
- 殴り判定を伸ばす(パラメーターを変更)
- 増殖
- AI化
- モノオーラ
- 物変更の物指定(鬼や装飾を指定可能)
- Tポーズ
- 無限爆弾/無限ジャンプ
- 物理演算変更の副作用による爆弾の飛距離変更
- 全員コロバグ
- チャットに名前を非表示
- チャットに[00ff00]のようなカラーコードを指定出来るようにする
## Mod Menu/Mod Apk/Script
チーター全盛期である。と、言うよりも最も隠れん坊にチーターが居た時代である。

チートが隠れん坊民やチーターに注目や普及し始めてきて、さらに拍車をかけたのがMod Menu/Mod Apk/Scriptである。

これまでにもScriptやMod Apkは存在していたが、機能や使い勝手や入手が乏しかったため、影響は無かった。

しかし、増殖チートのようなチーターが注目を集めやすい状態になっていたことに加え、「比較的や優秀なチーター」によるYoutubeでチートを配布したことによりチーターが増えるという無限ループに陥った。

ダウンロードしてMod Menuはボタンを押すだけでチートが出来てしまうので、猿でもできてしまう。またMod Menuなどから数値を抜き取るといった行為ができる猿より少し進化した人もいたので、状況はまさにカオス。

運営の対策は特になし。アプデによってGGの保存リストのオフセットも変わるので、再検索する必要があったくらい。スクリプトキディはこれを運営の対策と呼ぶ。

後になれば、「バグの修正」との名目の元でphotonのルームにアクセスするための情報を変えただけのアップデートをすることでチーターが隔離されるようになっていた。(ほぼ意味なし！)

使いやすさを悪用し、マルウェアを仕込んだAPKが隠れん坊チーターキラーにより配布され一部抑止力にはなった。が、根本的な解決はしていない。

この時代の主なチートは以下
- hookによる全プレイヤーのもの変更連発
  
## チーター全盛期の終末
チーターだらけになった隠れん坊を救ったのは、やはり運営！...ではなく、64bit端末(arm64)への対応であった。あと、いつの間にかされていたIL2CPPビルドもかな？

そういえば、変更を難しくする型を使っていたりアンチチート何とかを使ってたりしていたけど、意味無さすぎて覚えていない。

スクリプトキディは"数値"の意味を理解しておらず自然消滅。大半の優秀とされていたチーターも、arm64が分からないのか、完全に理解できていなかったのか定かではないが解析方法が分からずほぼ消滅した。

ここで生き残ったチーターの7割くらいは隠れん坊内ではかなり有名かつチーターの中では優秀。

## チートを"作る"時代へ
Mod MenuのHookなども活用する人が増えた。
これまでは既存のチートをどう再現するかに目が向きがちだったが、新しいチートを生み出す人もポツポツといた。(例えば〜アノとかね！w)

運営の対策としては、やっとRootや仮想空間の検知をして隔離部屋にするくらい。あと謎にマイナスレベルとかでも隔離された記憶がある。とはいえ、解析してアセンブリを変更しても隔離部屋回避はできてしまう。他にも、同様に回避が容易な増殖検知(笑)が実装されていたりもした。

チートが複雑化して、1部省略するが以下のようなチートがあった。
- 鬼を倒す
- プレイヤー比率変更
- 主導権の取得
- マップの指定/強制変更
- iPhone落とし
- 増殖鯖
- キック
- プレイヤー乗っ取り
- プレイヤーの置き換え
- ストーカー
- 回転
- チャンネル名
- 他人のデータの改ざん
- ランダムで人が入りやすくする
- 部屋の人数変更や封鎖、管理
- 他プレイヤーの途中経過
- プレイヤーの削除
- マップが変わっても残り続ける増殖
- 増殖の上限解放
- 前のバージョンから最新バージョンにアクセス

他にもいろいろあった気がするし、組み合わせなどによって多様化していた。例えば増殖鯖。増殖チートに加え、主導権を常に取得ゲーム開始時間の変更や待機時間の削除、物の位置変更、倒された際にその場にリスポーン、途中参加、マップの固定、マップ物の削除、物の固定などなど、かなりの数の技術が組み合わせれていた。だから、上記以外のチートも沢山あるということにも留意して欲しい。

運営にチートの報告をしてみたこともあったがなかなか対応はなし。
## 部屋の人数変更
photonで簡単に変更出来ちゃうのに何故かみんな使っていなかったチート。各クライアントで部屋が封鎖されるようになっているので、主導権を取りながらOpenとVisibleをtrueにしなければならない。

このチートによって部屋の上限を削除し100人以上でプレイしたことがかなり目立ったのか知らないが、割とすぐ対策された。

対策方法としては各クライアントで部屋の最大人数を指定してランダムに参加するという仕組み。
## キック
昔はcloseConnectionが使えたらしいが、photonの仕様変更によりデフォルトで使えなくなっている。

チーターがチーターをどうにかしたいと考えた結果、RPCを使用したキックチートを作ることが出来た。

## setPrefによる他プレイヤーのデータ変更
Laによって発見された。`assembly-csharp.dll`の情報からPunRPC属性に注目することで見つけることができたらしい。

Laか自分の報告が隠れん坊に通ったのか、普通に気がついたのか分からないけど対策されたらしい。

運営は恐らくチーターのことを割と認知しているということもこの頃察した。

## 増殖
隠れん坊チーターの代名詞となった増殖チートだが、各クライアントでの取得経験値を調整することで実質的なチーター対策がされた。各クライアントでの対策は運営に度々報告してたので、採用されていると嬉しい。

この頃からチート自体の対策と言うよりかは、チーターの存在価値をどうなくすかにも運営の焦点が向いたと思う。
## ブロワ
橘というチーターが復帰後好んで使用していた。そのため、増殖の次にチーターの代名詞となるチートとなったが、ブロックワールドチャンネルが作成されてことにより実質的な対策がされた。

ブロワチャンネルは野良化したりできたんだけどね笑

## liapp
アノとかLaとか橘が引退してからちょっとあとくらいにliappが導入されたみたい。

安定の回避は出来ちゃうみたい
## 変わったらしい
liappにお金を払えなくなったのか、アンチチートが変わったらしい。正直、隠れん坊はもう見ていないので何になったのかすら知らない。
